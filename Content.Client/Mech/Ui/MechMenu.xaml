<controls:FancyWindow xmlns="https://spacestation14.io"
                      xmlns:gfx="clr-namespace:Robust.Client.Graphics;assembly=Robust.Client"
                      xmlns:controls="clr-namespace:Content.Client.UserInterface.Controls"
                      xmlns:customControls="clr-namespace:Content.Client.Administration.UI.CustomControls"
                      Title="{Loc 'mech-menu-title'}"
                      MinSize="600 540"
                      SetSize="720 540">
    <BoxContainer Orientation="Horizontal"
                  HorizontalExpand="True"
                  VerticalExpand="True"
                  Margin="8">

        <!-- LEFT COLUMN: main content -->
        <BoxContainer Orientation="Vertical"
                      VerticalExpand="True"
                      HorizontalExpand="False"
                      Margin="0 0 4 0"
                      SetWidth="380">
            <BoxContainer Orientation="Horizontal"
                          Margin="0 0 0 6">
                <controls:StripeBack HorizontalExpand="True">
                    <PanelContainer>
                        <PanelContainer.PanelOverride>
                            <gfx:StyleBoxFlat BackgroundColor="#101012"/>
                        </PanelContainer.PanelOverride>
                        <RichTextLabel Name="NameLabel"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Margin="6 4 6 4"/>
                    </PanelContainer>
                </controls:StripeBack>
            </BoxContainer>

            <!-- Mech sprite and statistics -->
            <PanelContainer VerticalExpand="False"
                            Margin="0 0 0 5">
                <PanelContainer.PanelOverride>
                    <gfx:StyleBoxFlat BackgroundColor="#1B1B1E"/>
                </PanelContainer.PanelOverride>

                <BoxContainer Orientation="Horizontal"
                              HorizontalExpand="True"
                              VerticalAlignment="Center"
                              Margin="8">
                    <!-- Sprite -->
                    <BoxContainer Orientation="Horizontal"
                                  HorizontalExpand="False"
                                  VerticalExpand="False">
                        <SpriteView Name="MechView"
                                    Scale="4 4"/>
                    </BoxContainer>

                    <!-- Stats -->
                    <BoxContainer Orientation="Vertical"
                                  HorizontalExpand="True"
                                  VerticalExpand="True"
                                  Margin="8 0 0 0">
                        <!-- Integrity -->
                        <Label StyleClasses="StatusFieldTitle"
                               Text="{Loc 'mech-integrity-display-label'}"/>
                        <ProgressBar Name="IntegrityDisplayBar"
                                     HorizontalExpand="True"
                                     SetHeight="24"
                                     MaxValue="1"
                                     Value="0">
                            <Label Name="IntegrityDisplay"
                                   Margin="6 0 0 0"
                                   VerticalAlignment="Center"/>
                        </ProgressBar>

                        <!-- Energy -->
                        <Label StyleClasses="StatusFieldTitle"
                               Text="{Loc 'mech-energy-display-label'}"
                               Margin="0 6 0 0"/>
                        <ProgressBar Name="EnergyDisplayBar"
                                     HorizontalExpand="True"
                                     SetHeight="24"
                                     MaxValue="1"
                                     Value="0">
                            <Label Name="EnergyDisplay"
                                   Margin="6 0 0 0"
                                   VerticalAlignment="Center"/>
                        </ProgressBar>

                        <!-- Metrics -->
                        <PanelContainer StyleClasses="Inset"
                                        Margin="0 8 0 0">
                            <BoxContainer Orientation="Vertical"
                                          Margin="0">
                                <GridContainer Columns="2">
                                    <Label Text="{Loc 'mech-cabin-temperature-label'}"
                                           StyleClasses="StatusFieldTitle"/>
                                    <Label Name="CabinTemperatureLabel"
                                           FontColorOverride="Orange"
                                           SetHeight="18"/>

                                    <Label Text="{Loc 'mech-cabin-pressure-label'}"
                                           StyleClasses="StatusFieldTitle"/>
                                    <Label Name="CabinGasLabel"
                                           FontColorOverride="LightSkyBlue"
                                           SetHeight="18"/>

                                    <Label Text="{Loc 'mech-tank-pressure-label'}"
                                           StyleClasses="StatusFieldTitle"/>
                                    <Label Name="TankPressureLabel"
                                           FontColorOverride="LightSkyBlue"
                                           SetHeight="18"/>

                                    <Label Text="{Loc 'mech-fan-status-label'}"
                                           StyleClasses="StatusFieldTitle"/>
                                    <Label Name="FanStatusLabel"
                                           SetHeight="18"/>
                                </GridContainer>
                            </BoxContainer>
                        </PanelContainer>
                    </BoxContainer>
                </BoxContainer>
            </PanelContainer>

            <!-- Settings -->
            <!-- Top block -->
            <BoxContainer Orientation="Vertical">
                <!-- No access overlay -->
                <PanelContainer Name="NoAccessSettings"
                                Visible="False"
                                StyleClasses="Inset"
                                Margin="0 0 0 5">
                    <BoxContainer HorizontalExpand="True"
                                  VerticalExpand="True"
                                  Margin="8">
                        <RichTextLabel Text="{Loc 'mech-settings-no-access'}"
                                       HorizontalAlignment="Center"/>
                    </BoxContainer>
                </PanelContainer>
                <GridContainer Name="HaveAccessSettings"
                               Columns="2">
                    <PanelContainer StyleClasses="Inset"
                                    Margin="0 0 0 5"
                                    HorizontalExpand="True">
                        <BoxContainer Orientation="Vertical">
                            <Label StyleClasses="StatusFieldTitle"
                                   Text="{Loc 'mech-cabin-pressure-label'}"
                                   Margin="0 0 0 3"/>
                            <BoxContainer>
                                <Button Name="AirtightButton"
                                        Text="{Loc 'mech-air-toggle'}"
                                        StyleClasses="OpenRight"
                                        ToggleMode="True"
                                        HorizontalExpand="False"/>
                                <Button Name="CabinPurgeButton"
                                        Text="{Loc 'mech-cabin-purge'}"
                                        StyleClasses="OpenLeft"
                                        ToggleMode="False"
                                        HorizontalExpand="False"/>
                            </BoxContainer>
                        </BoxContainer>
                    </PanelContainer>

                    <PanelContainer StyleClasses="Inset"
                                    Margin="0 0 0 5"
                                    HorizontalExpand="True">
                        <BoxContainer Orientation="Vertical">
                            <Label StyleClasses="StatusFieldTitle"
                                   Text="{Loc 'mech-fan-label'}"
                                   Margin="0 0 0 3"/>
                            <BoxContainer>
                                <controls:OnOffButton Name="FanToggle"/>
                                <CheckBox Name="FilterEnabledCheck"
                                          Margin="6 0"
                                          Text="{Loc 'mech-filter-enabled'}"
                                          VerticalAlignment="Bottom"/>
                                <Label Name="FanMissingLabel"
                                       Visible="False"
                                       HorizontalAlignment="Right"
                                       Text="{Loc 'mech-fan-missing'}"
                                       SetHeight="18"/>
                            </BoxContainer>
                        </BoxContainer>
                    </PanelContainer>
                </GridContainer>
            </BoxContainer>

            <!-- Bottom block -->
            <PanelContainer StyleClasses="Inset"
                            VerticalExpand="True">
                <GridContainer Columns="2">
                    <Label StyleClasses="StatusFieldTitle"
                           Text="{Loc 'mech-lock-dna-label'}"
                           Margin="0 0 0 3"/>
                    <BoxContainer Orientation="Vertical"
                                  Margin="0 0 0 3">
                        <BoxContainer>
                            <Button Name="DnaLockRegisterButton"
                                    Text="{Loc 'mech-lock-register'}"
                                    ToggleMode="False"
                                    HorizontalExpand="False"/>
                            <Button Name="DnaLockBlockButton"
                                    Text=""
                                    StyleClasses="OpenRight"
                                    ToggleMode="True"
                                    HorizontalExpand="False"
                                    Visible="False"/>
                            <Button StyleClasses="OpenLeft"
                                    Name="DnaLockResetButton"
                                    ToolTip="{Loc 'mech-lock-reset'}">
                                <TextureButton
                                    HorizontalExpand="False"
                                    ToggleMode="False"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    MouseFilter="Ignore"
                                    Scale="0.9 0.9"
                                    StyleClasses="Refresh"/>
                            </Button>
                        </BoxContainer>
                        <BoxContainer>
                            <Label StyleClasses="WindowFooterText"
                                   Name="DnaLockInfoLabel"/>
                        </BoxContainer>
                    </BoxContainer>

                    <Label StyleClasses="StatusFieldTitle"
                           Text="{Loc 'mech-lock-card-label'}"
                           Margin="0 0 0 3"/>
                    <BoxContainer Orientation="Vertical"
                                  Margin="0 0 0 3">
                        <BoxContainer>
                            <Button Name="CardLockRegisterButton"
                                    Text="{Loc 'mech-lock-register'}"
                                    ToggleMode="False"
                                    HorizontalExpand="False"/>
                            <Button Name="CardLockBlockButton"
                                    Text=""
                                    StyleClasses="OpenRight"
                                    ToggleMode="True"
                                    HorizontalExpand="False"
                                    Visible="False"/>
                            <Button StyleClasses="OpenLeft"
                                    Name="CardLockResetButton"
                                    ToolTip="{Loc 'mech-lock-reset'}">
                                <TextureButton
                                    HorizontalExpand="False"
                                    ToggleMode="False"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    MouseFilter="Ignore"
                                    Scale="0.9 0.9"
                                    StyleClasses="Refresh"/>
                            </Button>
                        </BoxContainer>
                        <BoxContainer>
                            <Label StyleClasses="WindowFooterText"
                                   Name="CardLockInfoLabel"/>
                        </BoxContainer>
                    </BoxContainer>
                </GridContainer>
            </PanelContainer>

        </BoxContainer>

        <!-- RIGHT COLUMN: equipment / modules (see. MechEquipmentControl.xaml) -->
        <BoxContainer Orientation="Vertical"
                      VerticalExpand="True"
                      HorizontalExpand="True"
                      Margin="6 0 0 0">
            <PanelContainer VerticalExpand="True">
                <PanelContainer.PanelOverride>
                    <gfx:StyleBoxFlat BackgroundColor="#1B1B1E"/>
                </PanelContainer.PanelOverride>

                <BoxContainer>
                    <!-- No access overlay -->
                    <PanelContainer Name="NoAccessEquipment"
                                    Visible="False"
                                    Margin="0 0 0 5"
                                    HorizontalExpand="True"
                                    VerticalExpand="True">
                        <BoxContainer HorizontalExpand="True"
                                      VerticalExpand="True"
                                      HorizontalAlignment="Center"
                                      Margin="8">
                            <RichTextLabel Text="{Loc 'mech-settings-no-access'}"
                                           HorizontalAlignment="Center"/>
                        </BoxContainer>
                    </PanelContainer>

                    <BoxContainer Name="HaveAccessEquipment"
                                  Orientation="Vertical"
                                  HorizontalExpand="True"
                                  Margin="5">
                        <Label StyleClasses="StatusFieldTitle"
                               Text="{Loc 'mech-equipment-label'}"
                               Margin="4 4 4 2"/>
                        <ScrollContainer HScrollEnabled="False"
                                         HorizontalExpand="True"
                                         VerticalExpand="True">
                            <BoxContainer Orientation="Vertical"
                                          HorizontalExpand="True"
                                          VerticalExpand="True"
                                          Name="EquipmentControlContainer"
                                          RectClipContent="True"
                                          Margin="2"/>
                        </ScrollContainer>

                        <Label Name="SlotDisplay"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Bottom"
                               StyleClasses="WindowFooterText"
                               Margin="5"/>

                        <customControls:HSeparator Margin="0 8 0 8"/>

                        <Label StyleClasses="StatusFieldTitle"
                               Text="{Loc 'mech-modules-label'}"
                               Margin="4 4 4 2"/>
                        <ScrollContainer HScrollEnabled="False"
                                         HorizontalExpand="True"
                                         VerticalExpand="True">
                            <BoxContainer Orientation="Vertical"
                                          HorizontalExpand="True"
                                          VerticalExpand="True"
                                          Name="ModuleControlContainer"
                                          RectClipContent="True"
                                          Margin="2"/>
                        </ScrollContainer>

                        <Label Name="ModuleSlotDisplay"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Bottom"
                               StyleClasses="WindowFooterText"
                               Margin="5"/>
                    </BoxContainer>
                </BoxContainer>
            </PanelContainer>
        </BoxContainer>
    </BoxContainer>
</controls:FancyWindow>
